---
app: crank
title: Cleanup I/O handling (centralize + tests)
priority: 4
status: closed
supervision: unsupervised
coding_agent: opencode
created: 2026-01-03
---

## Intent

Make the I/O layer small, consistent, and easy to maintain.

## Spec
- Inventory read/write paths touching `.crank` and `~/.crank` and identify duplication.
- Introduce a minimal shared I/O helper/module (paths + read/write + error context).
- Refactor the highest-churn call sites to use the helper (keep changes surgical).
- Add tests that cover the new helper and one refactored path.
- Preserve behavior and file formats.

### Acceptable Output
- Reduced I/O duplication, no behavior changes, tests pass.
